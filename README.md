# Prompt Engineering 完整指南

## 目录
- [基本原则](#基本原则)
- [核心技术方法](#核心技术方法)
- [实践示例](#实践示例)
- [最佳实践](#最佳实践)
- [参考资源](#参考资源)

## 基本原则

### 1. 明确性 (Clarity)
- 指令清晰、目标明确
- 避免模糊或多义表达
- 使用具体的动词和名词

### 2. 结构化 (Structure)
- 逻辑清晰的组织方式
- 使用标准格式（角色-任务-示例-输出）
- 分段明确，层次清楚

### 3. 上下文充分 (Context)
- 提供必要背景信息
- 设定角色和场景
- 明确约束条件

### 4. 可迭代 (Iterative)
- 支持持续优化
- 根据结果调整策略
- 版本控制和效果追踪

## 核心技术方法

### Zero-shot Prompting
不提供示例，直接给出任务指令。

**适用场景：**
- 简单直接的任务
- 模型已有相关知识
- 快速原型验证

**示例：**
```
将以下文本翻译成英文：你好世界
```

### Few-shot Prompting
提供1-5个输入输出示例，让模型学习模式。

**适用场景：**
- 复杂或特定格式任务
- 需要特定风格输出
- 提升准确性

**示例：**
```
将以下文本翻译成英文：

示例：
中文：早上好 → 英文：Good morning
中文：谢谢 → 英文：Thank you
中文：再见 → 英文：Goodbye

现在翻译：
中文：你好世界 → 英文：
```

### Chain-of-Thought (CoT)
引导模型逐步推理，展示思考过程。

**适用场景：**
- 数学计算
- 逻辑推理
- 复杂问题分析

**示例：**
```
解决这个数学问题，请展示你的推理步骤：

问题：一个班级有30个学生，其中60%是女生，问男生有多少人？

思考步骤：
1. 总学生数：30人
2. 女生比例：60%
3. 女生人数：30 × 0.6 = 18人
4. 男生人数：30 - 18 = 12人

答案：12人
```

### "Take a Deep Breath" 技巧
通过放松指令提升模型表现。

**原理：**
- 减少模型"焦虑"
- 促进更深层思考
- 提升复杂任务性能

**示例：**
```
深呼吸，逐步工作。请仔细分析以下商业案例的关键问题，
并提供详细的解决方案...
```

### Tree of Thought (ToT)
让模型探索多个思维路径，类似决策树。

**适用场景：**
- 创意生成
- 策略规划
- 多方案比较

**示例：**
```
考虑解决客户流失问题的3种不同方法：

方法1：优化产品功能
- 优点：直接解决用户痛点
- 缺点：开发成本高，周期长

方法2：改善客户服务
- 优点：成本相对较低，见效快
- 缺点：治标不治本

方法3：调整定价策略
- 优点：竞争力增强，立即见效
- 缺点：可能影响利润率

评估：综合考虑成本、效果和可行性，推荐采用方法2作为短期策略，
同时启动方法1作为长期解决方案。
```

### Directional Stimulus Prompting
通过关键词或短语引导模型朝特定方向思考。

**技巧：**
- 使用指向性关键词
- 设定思考框架
- 控制输出方向

**示例：**
```
关键词：创新、成本效益、可持续性、用户体验

基于以上关键词，设计一个环保产品方案，
确保方案体现所有关键要素...
```

### Chain of Density
逐步增加信息密度，让模型处理复杂内容。

**适用场景：**
- 技术文档编写
- 概念解释
- 知识梳理

**示例：**
```
请分层次解释"机器学习"概念：

第1层（基本定义）：
机器学习是一种人工智能技术...

第2层（添加核心特征）：
机器学习通过算法自动识别数据模式，无需显式编程...

第3层（包含技术实现）：
常见算法包括监督学习（如线性回归、决策树）、
无监督学习（如聚类、降维）...

第4层（详细应用场景）：
在推荐系统中，协同过滤算法分析用户行为数据...
```

## 实践示例

### 代码生成 Prompt
```
角色：你是一位资深的JavaScript开发者

任务：根据需求生成高质量的React组件代码

要求：
1. 使用TypeScript
2. 遵循React Hooks最佳实践
3. 包含适当的错误处理
4. 添加详细注释

输入：创建一个可搜索的用户列表组件

输出格式：
- 完整的组件代码
- 使用说明
- 注意事项
```

### 内容创作 Prompt
```
角色：你是一位专业的技术写作专家

任务：撰写技术博客文章

风格要求：
- 语言简洁明了
- 结构层次清晰
- 包含实际代码示例
- 适合中级开发者阅读

主题：React性能优化最佳实践

文章结构：
1. 引言（问题背景）
2. 核心概念解释
3. 实践方法（3-5个）
4. 代码示例
5. 总结建议
```

### 数据分析 Prompt
```
深呼吸，逐步分析以下数据：

数据：[用户活跃度数据]

分析要求：
1. 数据概览和基本统计
2. 趋势识别和模式发现
3. 异常值检测
4. 业务洞察和建议

输出格式：
- 数据摘要
- 可视化建议
- 关键发现
- 行动建议
```

## 最佳实践

### 1. 设计原则
- **明确目标**：清楚你想要什么结果
- **简洁具体**：避免冗长和模糊
- **示例驱动**：提供高质量示例
- **渐进优化**：持续测试和改进

### 2. 常用模板

#### 基础模板
```
角色：[设定AI角色]
任务：[明确具体任务]
输入：[提供输入内容]
要求：[列出具体要求]
输出：[指定输出格式]
```

#### 分析模板
```
请分析以下内容：[内容]

分析维度：
1. [维度1]
2. [维度2]
3. [维度3]

输出格式：
- 关键发现
- 深入分析
- 建议措施
```

#### 创作模板
```
创作背景：[背景说明]
目标受众：[受众描述]
内容类型：[内容形式]
风格要求：[风格偏好]
长度要求：[字数或篇幅]
特殊要求：[其他要求]
```

### 3. 优化技巧

#### 提升准确性
- 使用Few-shot示例
- 明确约束条件
- 设置验证标准

#### 控制输出格式
- 使用结构化标记
- 指定输出模板
- 要求特定格式

#### 处理复杂任务
- 任务分解
- 分步执行
- 链式推理

### 4. 常见错误

#### 避免的问题
- 指令模糊不清
- 示例质量差
- 缺乏上下文
- 期望过高

#### 解决方案
- 明确具体的指令
- 提供高质量示例
- 补充必要背景
- 合理设定期望

## 进阶技巧

### 1. 元提示 (Meta-prompting)
让AI帮助优化Prompt本身：

```
请帮我优化这个Prompt，使其更清晰有效：

原始Prompt：[你的Prompt]

优化要求：
1. 提升指令清晰度
2. 增强结果可控性
3. 改善输出格式
4. 减少歧义性

请提供：
- 优化后的Prompt
- 改进说明
- 使用建议
```

### 2. 角色链 (Role Chaining)
使用多个专业角色协作：

```
第一步：作为数据分析师，分析用户数据
第二步：作为产品经理，基于分析提出改进建议
第三步：作为技术负责人，评估实施可行性
```

### 3. 自我反思 (Self-reflection)
让AI检查和改进自己的输出：

```
完成任务后，请：
1. 检查输出是否满足要求
2. 识别可能的改进点
3. 提供修正建议
4. 重新优化输出
```

## 参考资源

### 开源项目
- [LangChain](https://github.com/langchain-ai/langchain) - Prompt模板和链式组合
- [OpenAI Cookbook](https://github.com/openai/openai-cookbook) - 最佳实践示例
- [LlamaIndex](https://github.com/jerryjliu/llama_index) - 检索增强生成
- [Awesome Prompt Engineering](https://github.com/prompt-engineering/awesome-prompt-engineering) - 资源合集

### 学习资料
- [Prompt Engineering Guide](https://www.promptingguide.ai/) - 系统性指南
- [Claude Prompt Library](https://docs.anthropic.com/claude/prompt-library) - 高质量示例
- [OpenAI Prompt Examples](https://platform.openai.com/examples) - 官方示例

### 工具推荐
- **测试工具**：PromptLayer, Weights & Biases
- **管理工具**：Prompt版本控制、A/B测试
- **优化工具**：自动Prompt优化、效果评估

---

*最后更新：2025年8月8日*

> 💡 **提示**：Prompt Engineering是一个实践性很强的技能，建议多实验、多测试，
> 根据具体场景和需求选择合适的技术方法。记住，好的Prompt是迭代出来的！
